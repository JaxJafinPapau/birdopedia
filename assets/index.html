<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <title>The bird encyclopedia. With an o.</title>
</head>

<body>
    <h1>The bird encyclopedia</h1>
    <table>
        <tr>
            <th>Species</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>Pigeon</td>
            <td>Common in cities</td>
        </tr>
    </table>
    <br/>
    <form action="/birds" method="post">
        Species:
        <input type="text" name="species">
        <br/> Description:
        <input type="text" name="description">
        <br/>
        <input type="submit" value="Submit">
    </form>
    <script>
        var birdTable = document.querySelector("table")
        fetch("/birds")
            .then(response => response.json())
            .then(birdList => {
                birdList.forEach(bird => {
                    row = document.createElement("tr")
                    species = document.createElement("td")
                    species.innerHTML = bird.species
                    description = document.createElement("td")
                    description.innerHTML = bird.description
                    row.appendChild(species)
                    row.appendChild(description)
                    birdTable.appendChild(row)
                })
            })
    </script>
</body>